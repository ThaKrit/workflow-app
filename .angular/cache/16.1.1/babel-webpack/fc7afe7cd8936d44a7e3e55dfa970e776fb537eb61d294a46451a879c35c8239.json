{"ast":null,"code":"import _asyncToGenerator from \"/Users/kritkhao/Documents/learn_devpool/Dev/angula/workflow-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl } from '@angular/forms';\nimport axios from 'axios';\nimport { environment } from 'src/app/environments/env.config';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../components/content/content.component\";\nfunction ItemsApprove_tr_20_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 24);\n  }\n}\nfunction ItemsApprove_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 12)(2, \"div\", 13)(3, \"div\", 14);\n    i0.ɵɵelement(4, \"a\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 16)(6, \"p\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(8, \"td\", 18)(9, \"p\", 17);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\", 18)(12, \"p\", 17);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"td\", 19)(15, \"span\", 20);\n    i0.ɵɵtemplate(16, ItemsApprove_tr_20_span_16_Template, 1, 0, \"span\", 21);\n    i0.ɵɵelementStart(17, \"span\", 22);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"td\", 23)(20, \"p\", 17);\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(item_r1.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.amount);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.quantity);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", item_r1.status === \"APPROVED\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.status);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.owner_id);\n  }\n}\nexport class ItemsApprove {\n  constructor() {\n    this.items = [];\n    this.filterItems = [];\n    this.filterInput = new FormControl('', {\n      nonNullable: true\n    });\n    this.fetchItems();\n  }\n  fetchItems() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const response = yield axios.get(`${environment.apiUrl}/items`);\n        _this.items = response.data;\n        _this.filterItems = response.data.filter(item => item.status === 'APPROVED');\n      } catch (error) {\n        if (axios.isAxiosError(error)) {\n          console.error('Axios error:', error.message);\n          alert(`ไม่สามารถดึงข้อมูลรายการได้: ${error.message}`);\n        } else {\n          console.error('Unexpected error:', error);\n          alert('เกิดข้อผิดพลาดที่ไม่คาดคิด');\n        }\n        _this.items = [];\n        _this.filterItems = [];\n      }\n    })();\n  }\n  trackById(index, item) {\n    return item.id;\n  }\n}\nItemsApprove.ɵfac = function ItemsApprove_Factory(t) {\n  return new (t || ItemsApprove)();\n};\nItemsApprove.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ItemsApprove,\n  selectors: [[\"app-update\"]],\n  decls: 21,\n  vars: 2,\n  consts: [[\"title\", \"Items Approved\"], [1, \"mt-8\", \"rounded-2xl\", 2, \"background\", \"rgb(146 151 179 / 13%)\"], [1, \"container\", \"mx-auto\"], [1, \"py-8\"], [1, \"py-4\"], [1, \"max-w-full\", \"overflow-x-auto\", \"rounded-lg\"], [1, \"w-full\", \"leading-normal\", \"text-white\"], [\"scope\", \"col\", 1, \"border-b\", \"border-gray-200\", \"px-5\", \"pl-10\", \"py-3\", \"text-left\", \"text-sm\", \"font-normal\", \"uppercase\"], [\"scope\", \"col\", 1, \"border-b\", \"border-gray-200\", \"px-5\", \"py-3\", \"text-left\", \"text-sm\", \"font-normal\", \"uppercase\"], [\"scope\", \"col\", 1, \"border-b\", \"border-gray-200\", \"px-5\", \"py-3\", \"pl-10\", \"text-left\", \"text-sm\", \"font-normal\", \"uppercase\"], [1, \"text-white\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"border-b\", \"border-gray-200\", \"p-5\", \"text-m\"], [1, \"flex\", \"items-center\"], [1, \"shrink-0\"], [\"href\", \"#\", 1, \"relative\", \"block\"], [1, \"ml-3\", \"pl-6\"], [1, \"whitespace-nowrap\"], [1, \"border-b\", \"border-gray-200\", \"p-5\", \"text-sm\", \"pl-9\"], [1, \"border-b\", \"border-gray-200\", \"p-5\", \"text-sm\"], [1, \"relative\", \"inline-block\", \"px-3\", \"py-1\", \"font-semibold\", \"leading-tight\"], [\"aria-hidden\", \"true\", \"class\", \"absolute inset-0 rounded-full bg-green-500 opacity-50\", 4, \"ngIf\"], [1, \"relative\"], [1, \"border-b\", \"border-gray-200\", \"p-5\", \"text-sm\", \"pl-12\"], [\"aria-hidden\", \"true\", 1, \"absolute\", \"inset-0\", \"rounded-full\", \"bg-green-500\", \"opacity-50\"]],\n  template: function ItemsApprove_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-content\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"table\", 6)(7, \"thead\")(8, \"tr\")(9, \"th\", 7);\n      i0.ɵɵtext(10, \" Items Name \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 8);\n      i0.ɵɵtext(12, \" Amount \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 8);\n      i0.ɵɵtext(14, \" Quantity \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 9);\n      i0.ɵɵtext(16, \" status \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 8);\n      i0.ɵɵtext(18, \" Owner ID \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(19, \"tbody\", 10);\n      i0.ɵɵtemplate(20, ItemsApprove_tr_20_Template, 22, 6, \"tr\", 11);\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngForOf\", ctx.filterItems)(\"ngForTrackBy\", ctx.trackById);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.ContentComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["FormControl","axios","environment","i0","ɵɵelement","ɵɵelementStart","ɵɵelementEnd","ɵɵtext","ɵɵtemplate","ItemsApprove_tr_20_span_16_Template","ɵɵadvance","ɵɵtextInterpolate","item_r1","title","amount","quantity","ɵɵproperty","status","owner_id","ItemsApprove","constructor","items","filterItems","filterInput","nonNullable","fetchItems","_this","_asyncToGenerator","response","get","apiUrl","data","filter","item","error","isAxiosError","console","message","alert","trackById","index","id","selectors","decls","vars","consts","template","ItemsApprove_Template","rf","ctx","ItemsApprove_tr_20_Template"],"sources":["/Users/kritkhao/Documents/learn_devpool/Dev/angula/workflow-app/src/app/pages/items-approve/items-approve.component.ts","/Users/kritkhao/Documents/learn_devpool/Dev/angula/workflow-app/src/app/pages/items-approve/items-approve.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport axios from 'axios';\nimport { environment } from 'src/app/environments/env.config';\nimport { Item } from 'src/app/item/models/item';\n\n@Component({\n  selector: 'app-update',\n  templateUrl: './items-approve.component.html',\n  styleUrls: ['./items-approve.component.css']\n})\nexport class ItemsApprove {\n  items: Item[] = [];\n  filterItems: Item[] = [];\n  filterInput = new FormControl<string>('', { nonNullable: true });\n\n\n  constructor() {\n    this.fetchItems();\n  }\n\n  async fetchItems() {\n    try {\n      const response = await axios.get<Item[]>(`${environment.apiUrl}/items`);\n      this.items = response.data;\n      this.filterItems = response.data.filter(item => item.status === 'APPROVED');\n    } catch (error) {\n        if (axios.isAxiosError(error)) {\n            console.error('Axios error:', error.message);\n            alert(`ไม่สามารถดึงข้อมูลรายการได้: ${error.message}`);\n        } else {\n            console.error('Unexpected error:', error);\n            alert('เกิดข้อผิดพลาดที่ไม่คาดคิด');\n        }\n        this.items = [];\n        this.filterItems = [];\n    }\n}\n\n\n  trackById(index: number, item: Item): number {\n    return item.id;\n  }\n}\n","<app-content title=\"Items Approved\"></app-content>\n\n<div class=\"mt-8 rounded-2xl\" style=\"background: rgb(146 151 179 / 13%)\">\n    <div class=\"container mx-auto\">\n      <div class=\"py-8\">\n        <div class=\"py-4\">\n          <div class=\"max-w-full overflow-x-auto rounded-lg\">\n            <table class=\"w-full leading-normal text-white\">\n              <thead>\n                <tr>\n                  <th\n                    scope=\"col\"\n                    class=\"border-b border-gray-200 px-5 pl-10 py-3 text-left text-sm font-normal uppercase\"\n                  >\n                    Items Name\n                  </th>\n                  <th\n                    scope=\"col\"\n                    class=\"border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase\"\n                  >\n                    Amount\n                  </th>\n                  <th\n                    scope=\"col\"\n                    class=\"border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase\"\n                  >\n                   Quantity\n                  </th>\n                  <th\n                    scope=\"col\"\n                    class=\"border-b border-gray-200 px-5 py-3 pl-10 text-left text-sm font-normal uppercase\"\n                  >\n                    status\n                  </th>\n                  <th\n                    scope=\"col\"\n                    class=\"border-b border-gray-200 px-5 py-3 text-left text-sm font-normal uppercase\"\n                  >\n                  Owner ID\n                </th>\n               \n                </tr>\n              </thead>\n              <tbody class=\"text-white\">\n                <tr *ngFor=\"let item of filterItems; trackBy: trackById\">\n                  <td class=\"border-b border-gray-200 p-5 text-m\">\n                    <div class=\"flex items-center\">\n                      <div class=\"shrink-0\">\n                        <a href=\"#\" class=\"relative block\">\n                        </a>\n                      </div>\n                      <div class=\"ml-3 pl-6\" >\n                        <p class=\"whitespace-nowrap\">{{ item.title }}</p>\n                      </div>\n                    </div>\n                  </td>\n                  <td class=\"border-b border-gray-200 p-5 text-sm pl-9\">\n                    <p class=\"whitespace-nowrap\">{{ item.amount }}</p>\n                  </td>\n                  <td class=\"border-b border-gray-200 p-5 text-sm pl-9\">\n                    <p class=\"whitespace-nowrap\">{{ item.quantity }}</p>\n                  </td>\n                  <td class=\"border-b border-gray-200 p-5 text-sm \">\n                    <span\n                      class=\"relative inline-block px-3 py-1 font-semibold leading-tight\"\n                    >\n                    \n                      <span *ngIf=\"item.status === 'APPROVED'\" aria-hidden=\"true\" class=\"absolute inset-0 rounded-full bg-green-500 opacity-50\"></span>\n                      <span class=\"relative\">{{ item.status }}</span>\n                    </span>\n                  </td>\n                  <td class=\"border-b border-gray-200 p-5 text-sm pl-12\">\n                    \n                    <p class=\"whitespace-nowrap\">{{ item.owner_id }}</p>\n                  </td>\n                  \n                  \n              </tbody>\n            </table>\n          </div>\n        </div></div></div></div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}